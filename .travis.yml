language: node_js
node_js:
    - stable
cache:
    directories:
        - node_modules
before_deploy:
    - yarn build
    - rm -rf node_modules/
jobs:
    include:
        - stage: Tests
          name: Lint
          script: yarn lint
        - stage: deploy
          if: branch = 48-deploy-ghpages
          name: Deploy to Github Pages
          script: skip
          deploy:
              provider: pages
              skip_cleanup: true
              github_token: '$github_token'
              local_dir: docs
              on:
                  branch: 48-deploy-ghpages
env:
    global:
        - secure: 'H4nPP2b3wHOYxDYnS9RrUrU+RNQMAO7FWKLLr0WmUlHntm2luKMXaY5d5XuM5QvmMhqdOE7QfZLDgaXyFzigaQJUeeL61IS676mNKoLYz5++ICL9vzw6Qhn5tnhADd8cEHuzWnpRSwtUyKOA1XdpZsL31cc1f9fxlszIYo9+r9Z2YgpTh0Cp2K+8YH0/XCaGYCS29Z6BBeVF11MK2mPIsAmudZEUveiKfAA0Fa/R0D26IyHx5K/JzCEmosOURlU2LXZz53CaEQ7ZjQnxbPnocDUq6VORCjGWDW9axLvXnPj1mljOdWU9yV13pd1JSebZibApUwFaD6ZjmUI7EMYoZiyuHQFjT10ZvAoHXjPHiI0MMgfEDH1QYCHOOeZhp/pXGgQcKsRM309TgoBThYAOUrdZilSz8UOhBwywXHsNJCaqH6fx+5ChTAtJI+KiL8W5jhEo/JoPq78KqH6oiP6vWFNHUmc0NIriCDQm0DOD+SAiCKp2fwwiEMcDWA4K4iu+KUmxhawxZKNN47gCAFho89eHJ9Wil85dpBGFomdRvFe9+97Ee9yChGPSO7UORqtx6qWe+6oq9RiemXpIKYQmzWLWf4N2WX911ho+kWE8qJQuksZfwskyK44WEwIjOhH6+79jHjZArNx+T7Slo+27LGB52bEqkRzkjfQEW9iEtic='
