language: node_js
node_js:
    - stable
cache:
    directories:
        - node_modules
before_deploy:
    - yarn build
    - rm -rf node_modules/
jobs:
    include:
        - stage: Tests
          name: Lint
          script: yarn lint
        - stage: deploy
          if: branch = 48-deploy-ghpages
          name: Deploy to Github Pages
          script: skip
          deploy:
              provider: pages
              skip_cleanup: true
              github_token: '$github_token'
              local_dir: docs
              on:
                  branch: 48-deploy-ghpages
env:
    global:
        secure: Ek05rauMxtq/Lwy5nCZo+ICeAshJCdPdwILqeEUO1neALm4LL4LwqVszoaUHl6mw4dy0RcELFxn0MBVJVPTunNvL9PiSFK3ldc57YmKLucMClQINogRW0z+qKmooTqfp+rd7HZfO4WHXkrdaJSa8sYdo+TmWFEzwhqAFQvAHcDH5gwmz5G5wLGQV1XzLUkC5jmA62fjGhmQHS6BHFTiXL2iDAx3pFnm7s604k47bGRhjDFaggH4fPBuZWEi+KZDiyg4R44Mu7O3KMtvY7ZnPCkeZcJHd3C4OMICyKAYyOg9cUOc9diei9d8sYQbnyg5ysNx1VWk3xLd+u3MRRwBJGMplIF1DdHCk0jTf9ekMJpxcWS2afveIffkCP7mteXXJqBLa04nbtjRML90sotKvOpW6Xxle3MwSLfov6qcfcs2LFEpJlMlhTt3eEg+hpGD8dO0JHKRuwTCnti4mj/FRTlnIYBSjF+hCASHWTwGSCkBN2YKLAtj26xJBz3Ak1/kKynfF1i2UQ1niiRZUdqar+ftzehE0Wq9QSsrCtGvl7c8PEKJlElxsTq+jViDtWxWA4XRVFdlqZc4EVgrDudCeWg4GAPHXhnfyxpsYQq8bEB6pxoeEmuvKWSDCztfbflhNDuuAhLQnfld+7vPUV9RvM47DUslwn59gEueyEbho0D8=
